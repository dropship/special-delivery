#N canvas 477 48 1103 1001 12;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-tab1 100 float 0;
#X coords 0 5 99 0 200 300 1;
#X restore 493 -128 graph;
#X text 548 178 frequency;
#X text 668 174 22050;
#X text 471 -139 5;
#X text 488 171 0;
#X text 476 102 1;
#N canvas 95 536 443 290 filter-grapher 0;
#N canvas 0 22 692 451 filter-graph1 0;
#X obj 145 292 f;
#X obj 175 292 + 1;
#X obj 46 160 t b b;
#X msg 161 268 0;
#X obj 125 355 sel 1;
#X msg 48 218 0;
#X msg 46 191 1;
#X floatatom 452 292 7 0 0 0 - - -;
#X obj 442 333 phasor~;
#X obj 415 384 cos~;
#X obj 450 384 cos~;
#X obj 449 361 -~ 0.25;
#X obj 46 134 inlet;
#X obj 394 413 outlet~;
#X obj 451 413 outlet~;
#X obj 216 329 t f f;
#X obj 217 391 outlet;
#X msg 114 122 \; pd dsp 1;
#X msg 498 333 0;
#X obj 145 237 metro;
#X text 166 7 filter-graph1 -- generate sinusoids to test a filter
;
#X text 168 23 arg 1: number of steps - arg2: frequency range;
#X text 40 53 This \, together with its companion filter-graph2 \,
measure a filter's frequency and phase response. Here we count from
0 to n-1 (where n is the table size) and output the index and a complex
sinusoid at each frequency to test.;
#X text 222 192 fudge to estimate settling time;
#X obj 487 67 loadbang;
#X obj 487 105 t b b;
#X obj 519 151 max 1;
#X obj 487 151 /;
#X obj 442 265 *;
#X obj 217 367 pack;
#X floatatom 500 183 5 0 0 0 - - -;
#X floatatom 248 237 5 0 0 0 - - -;
#X obj 487 86 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 202 173 expr max(50 \, 40000/($f2*max($f1 \, 1)));
#X obj 527 127 f 100;
#X obj 126 332 >= 100;
#X obj 458 125 f 22050;
#X connect 0 0 1 0;
#X connect 0 0 15 0;
#X connect 0 0 35 0;
#X connect 1 0 0 1;
#X connect 2 0 6 0;
#X connect 2 1 3 0;
#X connect 2 1 17 0;
#X connect 3 0 0 1;
#X connect 4 0 5 0;
#X connect 5 0 19 0;
#X connect 6 0 19 0;
#X connect 8 0 11 0;
#X connect 8 0 9 0;
#X connect 9 0 13 0;
#X connect 10 0 14 0;
#X connect 11 0 10 0;
#X connect 12 0 2 0;
#X connect 15 0 29 0;
#X connect 15 1 28 0;
#X connect 15 1 33 0;
#X connect 18 0 8 1;
#X connect 19 0 0 0;
#X connect 19 0 18 0;
#X connect 24 0 32 0;
#X connect 25 0 36 0;
#X connect 25 1 34 0;
#X connect 26 0 27 1;
#X connect 27 0 28 1;
#X connect 27 0 30 0;
#X connect 27 0 33 1;
#X connect 28 0 7 0;
#X connect 28 0 8 0;
#X connect 28 0 29 1;
#X connect 29 0 16 0;
#X connect 32 0 25 0;
#X connect 33 0 19 1;
#X connect 33 0 31 0;
#X connect 33 0 29 1;
#X connect 34 0 26 0;
#X connect 35 0 4 0;
#X connect 36 0 27 0;
#X connect 36 0 7 0;
#X restore 125 51 pd filter-graph1;
#N canvas 199 65 883 600 filter-graph2 0;
#X obj 266 177 *~;
#X obj 317 175 *~;
#X obj 182 276 t b b;
#X obj 267 302 snapshot~;
#X obj 341 301 snapshot~;
#X obj 64 135 inlet;
#X obj 71 417 t b f b;
#X obj 195 493 f;
#X obj 265 135 inlet~;
#X obj 318 135 inlet~;
#X obj 418 134 inlet~;
#X obj 154 493 t f b;
#X obj 637 259 env~ 2048;
#X obj 311 362 f;
#X obj 267 324 t f f b;
#X obj 311 382 dbtopow;
#X obj 137 411 expr sqrt($f1*$f1 + $f2*$f2)/$f3;
#X obj 63 245 sel 0;
#X obj 87 270 - 1;
#X obj 64 156 unpack;
#X obj 117 157 expr 10000/$f1;
#X text 257 102 test sinusoid:;
#X text 272 116 cos;
#X text 325 115 sin;
#X text 397 97 output of filter;
#X text 398 113 we're testing;
#X text 31 103 index and time to next step;
#X text 39 82 ----- from filter-graph1's 3 outlets: -------;
#X text 117 193 low-pass filters;
#X text 118 177 cutoff freq. for;
#X obj 464 163 t b;
#X text 583 184 clear filters;
#X text 582 198 to start;
#X text 31 3 filter-graph2: measures frequency and phase response of
a filter \, which should be driven by a "filter-graph1" object. We
need the three outputs of filter-graph1 \, plus the filter output.
;
#X text 438 55 1: table name for frequency response;
#X text 518 39 creation arguments:;
#X text 438 71 2 (optional): table name for phase response;
#N canvas 121 80 859 686 butterworth3~ 0;
#X obj 59 313 rpole~;
#X obj 58 379 cpole~;
#X obj 82 410 cpole~;
#X obj 58 351 *~;
#X msg 488 421 clear;
#X obj 127 160 loadbang;
#X obj 131 468 rzero~;
#X obj 131 519 czero~;
#X obj 156 545 czero~;
#X obj 131 497 /~;
#X obj 397 257 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0
50;
#X obj 59 289 *~;
#X obj 131 446 /~;
#X obj 171 207 samplerate~;
#X obj 171 228 / 2;
#X obj 127 250 / 22050;
#X obj 127 228 t f b;
#X obj 135 181 inlet;
#X obj 397 164 loadbang;
#X obj 405 185 inlet;
#X obj 263 162 loadbang;
#X obj 343 235 samplerate~;
#X obj 307 230 / 2;
#X obj 263 252 / 22050;
#X obj 263 230 t f b;
#X obj 271 183 inlet;
#X obj 58 163 inlet~;
#X obj 488 166 inlet;
#X obj 155 568 outlet~;
#X text 58 142 audio;
#X text 133 140 lp freq;
#X text 263 142 hp freq;
#X text 395 146 hi/lo norm;
#X text 490 143 clear;
#X text 68 10 3-pole \, 3-zero butterworth lp/hp/shelving filter. Args:
lp freq \, hp freq \, normalize-hi. Inlets: input signal \, lo freq
\, hi freq \, hi norm \, reset.;
#X text 70 75 For high-pass: set LP freq =0 and hi/lo to 1;
#X text 70 56 For low-pass: set HP freq >= SR/2 and hi/lo to 0;
#X text 69 92 Shelving: HP and LP specify shelving band. Gain difference
is about HP/LP cubed (so HP=2LP should give about 18 dB \, for example.)
;
#N canvas 0 22 986 706 buttercoef3 0;
#X obj 63 51 inlet;
#X floatatom 522 134 5 0 0 0 - - -;
#X obj 101 153 t f f;
#X msg 101 108 0.667;
#X msg 82 283 0;
#X obj 517 270 loadbang;
#X obj 528 298 inlet;
#X obj 517 322 f;
#X obj 517 346 expr 1 - 2*$f1;
#X obj 63 79 t b b b f;
#X obj 205 228 * -1;
#X obj 163 228 t f f;
#X obj 63 391 f;
#X obj 30 463 outlet;
#X text 515 237 1 to normalize at Nyquist;
#X text 59 30 characteristic frequency \, 0(DC) to 1(Nyquist);
#X obj 283 470 outlet;
#X obj 439 472 outlet;
#X text 439 494 imag2a;
#X text 283 492 real1;
#X text 374 494 real2;
#X obj 500 473 outlet;
#X text 500 495 imag2b;
#X obj 373 470 outlet;
#X text 27 485 normalizer1;
#X obj 173 470 outlet;
#X text 170 492 normalizer2;
#X obj 156 436 expr (($f2-$f1)*($f2-$f1)+$f3*$f3);
#X obj 63 412 t f f;
#X obj 101 176 expr (1 - $f2*$f2) / (1 + $f2*$f2 + 2*$f2*cos($f1))
;
#X obj 163 205 expr 2*$f2*sin($f1) / (1 + $f2*$f2 + 2*$f2*cos($f1))
;
#X obj 82 307 expr (1 - $f2*$f2) / (1 + $f2*$f2 + 2*$f2*cos($f1));
#X obj 522 89 clip 0 1;
#X obj 522 111 expr tan($f1*1.57);
#X obj 101 131 expr $f1*1.5708;
#X text 515 251 0 to normalize at DC;
#X text 119 4 3-pole (or zero) Butterworth filter coefficient calculator
;
#X text 145 109 "theta" in units of pi/2;
#X text 211 138 conjugate pair of pole/zero locations:;
#X text 197 155 real part: (1-r*r)/(1+r*r-2rcos(th));
#X text 245 226 imaginary part: 2rsin(th)/(...);
#X text 270 282 real-valued one \, theta=0;
#X obj 30 439 expr abs($f1-$f2);
#X connect 0 0 9 0;
#X connect 1 0 29 1;
#X connect 1 0 30 1;
#X connect 1 0 31 1;
#X connect 2 0 29 0;
#X connect 2 1 30 0;
#X connect 3 0 34 0;
#X connect 4 0 31 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 12 1;
#X connect 9 0 12 0;
#X connect 9 1 4 0;
#X connect 9 2 3 0;
#X connect 9 3 32 0;
#X connect 10 0 21 0;
#X connect 11 0 17 0;
#X connect 11 0 27 2;
#X connect 11 1 10 0;
#X connect 12 0 28 0;
#X connect 27 0 25 0;
#X connect 28 0 42 0;
#X connect 28 1 27 0;
#X connect 29 0 23 0;
#X connect 29 0 27 1;
#X connect 30 0 11 0;
#X connect 31 0 16 0;
#X connect 31 0 42 1;
#X connect 32 0 33 0;
#X connect 33 0 1 0;
#X connect 34 0 2 0;
#X connect 42 0 13 0;
#X restore 181 312 pd buttercoef3;
#N canvas 0 22 982 702 buttercoef3 0;
#X obj 63 51 inlet;
#X floatatom 522 134 5 0 0 0 - - -;
#X obj 101 153 t f f;
#X msg 101 108 0.667;
#X msg 82 283 0;
#X obj 517 270 loadbang;
#X obj 528 298 inlet;
#X obj 517 322 f;
#X obj 517 346 expr 1 - 2*$f1;
#X obj 63 79 t b b b f;
#X obj 205 228 * -1;
#X obj 163 228 t f f;
#X obj 63 391 f;
#X obj 30 463 outlet;
#X text 515 237 1 to normalize at Nyquist;
#X text 59 30 characteristic frequency \, 0(DC) to 1(Nyquist);
#X obj 283 470 outlet;
#X obj 439 472 outlet;
#X text 439 494 imag2a;
#X text 283 492 real1;
#X text 374 494 real2;
#X obj 500 473 outlet;
#X text 500 495 imag2b;
#X obj 373 470 outlet;
#X text 27 485 normalizer1;
#X obj 173 470 outlet;
#X text 170 492 normalizer2;
#X obj 156 436 expr (($f2-$f1)*($f2-$f1)+$f3*$f3);
#X obj 63 412 t f f;
#X obj 101 176 expr (1 - $f2*$f2) / (1 + $f2*$f2 + 2*$f2*cos($f1))
;
#X obj 163 205 expr 2*$f2*sin($f1) / (1 + $f2*$f2 + 2*$f2*cos($f1))
;
#X obj 82 307 expr (1 - $f2*$f2) / (1 + $f2*$f2 + 2*$f2*cos($f1));
#X obj 522 89 clip 0 1;
#X obj 522 111 expr tan($f1*1.57);
#X obj 101 131 expr $f1*1.5708;
#X text 515 251 0 to normalize at DC;
#X text 119 4 3-pole (or zero) Butterworth filter coefficient calculator
;
#X text 145 109 "theta" in units of pi/2;
#X text 211 138 conjugate pair of pole/zero locations:;
#X text 197 155 real part: (1-r*r)/(1+r*r-2rcos(th));
#X text 245 226 imaginary part: 2rsin(th)/(...);
#X text 270 282 real-valued one \, theta=0;
#X obj 30 439 expr abs($f1-$f2);
#X connect 0 0 9 0;
#X connect 1 0 29 1;
#X connect 1 0 30 1;
#X connect 1 0 31 1;
#X connect 2 0 29 0;
#X connect 2 1 30 0;
#X connect 3 0 34 0;
#X connect 4 0 31 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 12 1;
#X connect 9 0 12 0;
#X connect 9 1 4 0;
#X connect 9 2 3 0;
#X connect 9 3 32 0;
#X connect 10 0 21 0;
#X connect 11 0 17 0;
#X connect 11 0 27 2;
#X connect 11 1 10 0;
#X connect 12 0 28 0;
#X connect 27 0 25 0;
#X connect 28 0 42 0;
#X connect 28 1 27 0;
#X connect 29 0 23 0;
#X connect 29 0 27 1;
#X connect 30 0 11 0;
#X connect 31 0 16 0;
#X connect 31 0 42 1;
#X connect 32 0 33 0;
#X connect 33 0 1 0;
#X connect 34 0 2 0;
#X connect 42 0 13 0;
#X restore 128 273 pd buttercoef3;
#X obj 126 208 f 80;
#X obj 263 210 f 100000;
#X obj 397 212 f 0;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 12 0;
#X connect 3 0 1 0;
#X connect 4 0 0 0;
#X connect 4 0 1 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 4 0 7 0;
#X connect 4 0 8 0;
#X connect 5 0 40 0;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 7 1 8 1;
#X connect 8 0 28 0;
#X connect 9 0 7 0;
#X connect 10 0 38 1;
#X connect 10 0 39 1;
#X connect 11 0 0 0;
#X connect 12 0 6 0;
#X connect 13 0 14 0;
#X connect 14 0 15 1;
#X connect 15 0 39 0;
#X connect 16 0 15 0;
#X connect 16 1 13 0;
#X connect 17 0 40 0;
#X connect 18 0 42 0;
#X connect 19 0 42 0;
#X connect 20 0 41 0;
#X connect 21 0 22 0;
#X connect 22 0 23 1;
#X connect 23 0 38 0;
#X connect 24 0 23 0;
#X connect 24 1 21 0;
#X connect 25 0 41 0;
#X connect 26 0 11 0;
#X connect 27 0 4 0;
#X connect 38 0 12 1;
#X connect 38 1 9 1;
#X connect 38 2 6 1;
#X connect 38 3 7 2;
#X connect 38 3 8 2;
#X connect 38 4 7 3;
#X connect 38 5 8 3;
#X connect 39 0 11 1;
#X connect 39 1 3 1;
#X connect 39 2 0 1;
#X connect 39 3 1 2;
#X connect 39 3 2 2;
#X connect 39 4 1 3;
#X connect 39 5 2 3;
#X connect 40 0 16 0;
#X connect 41 0 24 0;
#X connect 42 0 10 0;
#X restore 273 253 pd butterworth3~;
#X obj 154 519 tabwrite \$0-tab1;
#N canvas 121 80 859 686 butterworth3~ 0;
#X obj 59 313 rpole~;
#X obj 58 379 cpole~;
#X obj 82 410 cpole~;
#X obj 58 351 *~;
#X msg 488 421 clear;
#X obj 127 160 loadbang;
#X obj 131 468 rzero~;
#X obj 131 519 czero~;
#X obj 156 545 czero~;
#X obj 131 497 /~;
#X obj 397 257 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0
50;
#X obj 59 289 *~;
#X obj 131 446 /~;
#X obj 171 207 samplerate~;
#X obj 171 228 / 2;
#X obj 127 250 / 22050;
#X obj 127 228 t f b;
#X obj 135 181 inlet;
#X obj 397 164 loadbang;
#X obj 405 185 inlet;
#X obj 263 162 loadbang;
#X obj 343 235 samplerate~;
#X obj 307 230 / 2;
#X obj 263 252 / 22050;
#X obj 263 230 t f b;
#X obj 271 183 inlet;
#X obj 58 163 inlet~;
#X obj 488 166 inlet;
#X obj 155 568 outlet~;
#X text 58 142 audio;
#X text 133 140 lp freq;
#X text 263 142 hp freq;
#X text 395 146 hi/lo norm;
#X text 490 143 clear;
#X text 68 10 3-pole \, 3-zero butterworth lp/hp/shelving filter. Args:
lp freq \, hp freq \, normalize-hi. Inlets: input signal \, lo freq
\, hi freq \, hi norm \, reset.;
#X text 70 75 For high-pass: set LP freq =0 and hi/lo to 1;
#X text 70 56 For low-pass: set HP freq >= SR/2 and hi/lo to 0;
#X text 69 92 Shelving: HP and LP specify shelving band. Gain difference
is about HP/LP cubed (so HP=2LP should give about 18 dB \, for example.)
;
#N canvas 0 22 986 706 buttercoef3 0;
#X obj 63 51 inlet;
#X floatatom 522 134 5 0 0 0 - - -;
#X obj 101 153 t f f;
#X msg 101 108 0.667;
#X msg 82 283 0;
#X obj 517 270 loadbang;
#X obj 528 298 inlet;
#X obj 517 322 f;
#X obj 517 346 expr 1 - 2*$f1;
#X obj 63 79 t b b b f;
#X obj 205 228 * -1;
#X obj 163 228 t f f;
#X obj 63 391 f;
#X obj 30 463 outlet;
#X text 515 237 1 to normalize at Nyquist;
#X text 59 30 characteristic frequency \, 0(DC) to 1(Nyquist);
#X obj 283 470 outlet;
#X obj 439 472 outlet;
#X text 439 494 imag2a;
#X text 283 492 real1;
#X text 374 494 real2;
#X obj 500 473 outlet;
#X text 500 495 imag2b;
#X obj 373 470 outlet;
#X text 27 485 normalizer1;
#X obj 173 470 outlet;
#X text 170 492 normalizer2;
#X obj 156 436 expr (($f2-$f1)*($f2-$f1)+$f3*$f3);
#X obj 63 412 t f f;
#X obj 101 176 expr (1 - $f2*$f2) / (1 + $f2*$f2 + 2*$f2*cos($f1))
;
#X obj 163 205 expr 2*$f2*sin($f1) / (1 + $f2*$f2 + 2*$f2*cos($f1))
;
#X obj 82 307 expr (1 - $f2*$f2) / (1 + $f2*$f2 + 2*$f2*cos($f1));
#X obj 522 89 clip 0 1;
#X obj 522 111 expr tan($f1*1.57);
#X obj 101 131 expr $f1*1.5708;
#X text 515 251 0 to normalize at DC;
#X text 119 4 3-pole (or zero) Butterworth filter coefficient calculator
;
#X text 145 109 "theta" in units of pi/2;
#X text 211 138 conjugate pair of pole/zero locations:;
#X text 197 155 real part: (1-r*r)/(1+r*r-2rcos(th));
#X text 245 226 imaginary part: 2rsin(th)/(...);
#X text 270 282 real-valued one \, theta=0;
#X obj 30 439 expr abs($f1-$f2);
#X connect 0 0 9 0;
#X connect 1 0 29 1;
#X connect 1 0 30 1;
#X connect 1 0 31 1;
#X connect 2 0 29 0;
#X connect 2 1 30 0;
#X connect 3 0 34 0;
#X connect 4 0 31 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 12 1;
#X connect 9 0 12 0;
#X connect 9 1 4 0;
#X connect 9 2 3 0;
#X connect 9 3 32 0;
#X connect 10 0 21 0;
#X connect 11 0 17 0;
#X connect 11 0 27 2;
#X connect 11 1 10 0;
#X connect 12 0 28 0;
#X connect 27 0 25 0;
#X connect 28 0 42 0;
#X connect 28 1 27 0;
#X connect 29 0 23 0;
#X connect 29 0 27 1;
#X connect 30 0 11 0;
#X connect 31 0 16 0;
#X connect 31 0 42 1;
#X connect 32 0 33 0;
#X connect 33 0 1 0;
#X connect 34 0 2 0;
#X connect 42 0 13 0;
#X restore 181 312 pd buttercoef3;
#N canvas 0 22 982 702 buttercoef3 0;
#X obj 63 51 inlet;
#X floatatom 522 134 5 0 0 0 - - -;
#X obj 101 153 t f f;
#X msg 101 108 0.667;
#X msg 82 283 0;
#X obj 517 270 loadbang;
#X obj 528 298 inlet;
#X obj 517 322 f;
#X obj 517 346 expr 1 - 2*$f1;
#X obj 63 79 t b b b f;
#X obj 205 228 * -1;
#X obj 163 228 t f f;
#X obj 63 391 f;
#X obj 30 463 outlet;
#X text 515 237 1 to normalize at Nyquist;
#X text 59 30 characteristic frequency \, 0(DC) to 1(Nyquist);
#X obj 283 470 outlet;
#X obj 439 472 outlet;
#X text 439 494 imag2a;
#X text 283 492 real1;
#X text 374 494 real2;
#X obj 500 473 outlet;
#X text 500 495 imag2b;
#X obj 373 470 outlet;
#X text 27 485 normalizer1;
#X obj 173 470 outlet;
#X text 170 492 normalizer2;
#X obj 156 436 expr (($f2-$f1)*($f2-$f1)+$f3*$f3);
#X obj 63 412 t f f;
#X obj 101 176 expr (1 - $f2*$f2) / (1 + $f2*$f2 + 2*$f2*cos($f1))
;
#X obj 163 205 expr 2*$f2*sin($f1) / (1 + $f2*$f2 + 2*$f2*cos($f1))
;
#X obj 82 307 expr (1 - $f2*$f2) / (1 + $f2*$f2 + 2*$f2*cos($f1));
#X obj 522 89 clip 0 1;
#X obj 522 111 expr tan($f1*1.57);
#X obj 101 131 expr $f1*1.5708;
#X text 515 251 0 to normalize at DC;
#X text 119 4 3-pole (or zero) Butterworth filter coefficient calculator
;
#X text 145 109 "theta" in units of pi/2;
#X text 211 138 conjugate pair of pole/zero locations:;
#X text 197 155 real part: (1-r*r)/(1+r*r-2rcos(th));
#X text 245 226 imaginary part: 2rsin(th)/(...);
#X text 270 282 real-valued one \, theta=0;
#X obj 30 439 expr abs($f1-$f2);
#X connect 0 0 9 0;
#X connect 1 0 29 1;
#X connect 1 0 30 1;
#X connect 1 0 31 1;
#X connect 2 0 29 0;
#X connect 2 1 30 0;
#X connect 3 0 34 0;
#X connect 4 0 31 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 12 1;
#X connect 9 0 12 0;
#X connect 9 1 4 0;
#X connect 9 2 3 0;
#X connect 9 3 32 0;
#X connect 10 0 21 0;
#X connect 11 0 17 0;
#X connect 11 0 27 2;
#X connect 11 1 10 0;
#X connect 12 0 28 0;
#X connect 27 0 25 0;
#X connect 28 0 42 0;
#X connect 28 1 27 0;
#X connect 29 0 23 0;
#X connect 29 0 27 1;
#X connect 30 0 11 0;
#X connect 31 0 16 0;
#X connect 31 0 42 1;
#X connect 32 0 33 0;
#X connect 33 0 1 0;
#X connect 34 0 2 0;
#X connect 42 0 13 0;
#X restore 128 273 pd buttercoef3;
#X obj 126 208 f 80;
#X obj 263 210 f 100000;
#X obj 397 212 f 0;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 12 0;
#X connect 3 0 1 0;
#X connect 4 0 0 0;
#X connect 4 0 1 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 4 0 7 0;
#X connect 4 0 8 0;
#X connect 5 0 40 0;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 7 1 8 1;
#X connect 8 0 28 0;
#X connect 9 0 7 0;
#X connect 10 0 38 1;
#X connect 10 0 39 1;
#X connect 11 0 0 0;
#X connect 12 0 6 0;
#X connect 13 0 14 0;
#X connect 14 0 15 1;
#X connect 15 0 39 0;
#X connect 16 0 15 0;
#X connect 16 1 13 0;
#X connect 17 0 40 0;
#X connect 18 0 42 0;
#X connect 19 0 42 0;
#X connect 20 0 41 0;
#X connect 21 0 22 0;
#X connect 22 0 23 1;
#X connect 23 0 38 0;
#X connect 24 0 23 0;
#X connect 24 1 21 0;
#X connect 25 0 41 0;
#X connect 26 0 11 0;
#X connect 27 0 4 0;
#X connect 38 0 12 1;
#X connect 38 1 9 1;
#X connect 38 2 6 1;
#X connect 38 3 7 2;
#X connect 38 3 8 2;
#X connect 38 4 7 3;
#X connect 38 5 8 3;
#X connect 39 0 11 1;
#X connect 39 1 3 1;
#X connect 39 2 0 1;
#X connect 39 3 1 2;
#X connect 39 3 2 2;
#X connect 39 4 1 3;
#X connect 39 5 2 3;
#X connect 40 0 16 0;
#X connect 41 0 24 0;
#X connect 42 0 10 0;
#X restore 397 252 pd butterworth3~;
#X connect 0 0 37 0;
#X connect 1 0 39 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 3 0 14 0;
#X connect 4 0 16 1;
#X connect 5 0 19 0;
#X connect 6 0 2 0;
#X connect 6 1 7 1;
#X connect 7 0 38 1;
#X connect 8 0 0 0;
#X connect 8 0 12 0;
#X connect 9 0 1 0;
#X connect 10 0 1 1;
#X connect 10 0 0 1;
#X connect 11 0 38 0;
#X connect 11 1 7 0;
#X connect 12 0 13 1;
#X connect 13 0 15 0;
#X connect 14 0 16 0;
#X connect 14 2 13 0;
#X connect 15 0 16 2;
#X connect 16 0 11 0;
#X connect 17 1 18 0;
#X connect 17 1 30 0;
#X connect 18 0 6 0;
#X connect 19 0 17 0;
#X connect 19 1 20 0;
#X connect 20 0 37 1;
#X connect 20 0 39 1;
#X connect 30 0 37 4;
#X connect 30 0 39 4;
#X connect 37 0 3 0;
#X connect 39 0 4 0;
#X restore 130 192 pd filter-graph2;
#X obj 123 23 inlet;
#X obj 86 232 outlet;
#X obj 246 83 *~ 1;
#X obj 247 163 *~ 1;
#X obj 248 108 throw~ \$0-filter-in;
#X obj 247 135 r~ \$0-filter-out;
#X connect 0 0 1 0;
#X connect 0 0 3 0;
#X connect 0 1 1 1;
#X connect 0 1 4 0;
#X connect 0 2 1 2;
#X connect 2 0 0 0;
#X connect 4 0 6 0;
#X connect 5 0 1 3;
#X connect 7 0 5 0;
#X restore 508 -90 pd filter-grapher;
#X floatatom 508 -56 5 0 0 0 - - -;
#X obj 508 -114 bng 15 250 50 0 empty empty empty 0 -6 0 10 -262144
-1 -1;
#X text 526 -127 graph;
#X obj -193 22 catch~ \$0-filter-in;
#X obj 32 83 *~ 1;
#X obj 13 632 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 6 23 *~;
#X obj 51 24 *~;
#X obj 113 -54 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#N canvas 0 22 822 586 compressor 0;
#X obj 263 236 expr (($f1 - $f3) / $f2) - $f1 + $f3;
#X obj 228 141 env~ 1024;
#X obj 263 379 dbtorms;
#X obj 263 308 expr 100 + $f1;
#X obj 28 439 *~;
#X obj 48 412 line~;
#X floatatom 27 194 5 0 0 0 - - -;
#X obj 228 188 moses;
#X msg 228 250 1;
#X text 74 189 forward control;
#X text 310 275 value by which the signal must be reduced;
#X text 389 345 conversion;
#X text 367 386 correction factor of the input signal's rms value;
#X text 453 504 www.pd-tutorial.com;
#X text 462 479 Johannes Kreidler;
#X obj 449 135 t f f;
#X obj 686 112 dbtorms;
#X obj 686 81 + 100;
#X obj 28 501 *~;
#X text 702 -1 makeup gain;
#X obj 28 -16 inlet~ signal;
#X text 36 9 signal to be compressed;
#X obj 259 45 inlet ratio;
#X text 254 12 x:1 ratio;
#X obj 339 45 inlet threshold;
#X obj 449 102 + 100;
#X text 302 24 threshold / reference \, -100 to 0 dB;
#X obj 27 152 loadbang;
#X msg 27 173 23.22;
#X obj 686 46 inlet makeupgain;
#X obj 228 274 pack;
#X obj 571 46 inlet release;
#X obj 263 420 pack;
#X obj 461 46 inlet attack;
#X text 495 -2 attack and release in ms;
#X obj 27 545 outlet~;
#X text 131 124 you can use a different signal here for sidechain compression
;
#X obj 27 214 delread~ \$0-compl1;
#X obj 27 102 delwrite~ \$0-compl1 100;
#X connect 0 0 3 0;
#X connect 1 0 7 0;
#X connect 2 0 32 0;
#X connect 3 0 2 0;
#X connect 4 0 18 0;
#X connect 5 0 4 1;
#X connect 6 0 37 0;
#X connect 7 0 8 0;
#X connect 7 1 0 0;
#X connect 8 0 30 0;
#X connect 15 0 7 1;
#X connect 15 1 0 2;
#X connect 16 0 18 1;
#X connect 17 0 16 0;
#X connect 18 0 35 0;
#X connect 20 0 1 0;
#X connect 20 0 38 0;
#X connect 22 0 0 1;
#X connect 24 0 25 0;
#X connect 25 0 15 0;
#X connect 27 0 28 0;
#X connect 28 0 6 0;
#X connect 29 0 17 0;
#X connect 30 0 5 0;
#X connect 31 0 30 1;
#X connect 32 0 5 0;
#X connect 33 0 32 1;
#X connect 37 0 4 0;
#X restore -188 447 pd compressor;
#X obj -347 323 vsl 10 50 1 10 0 1 empty empty ratio -7 -9 0 8 -262144
-1 -1 1089 1;
#X obj -305 323 vsl 10 50 -50 0 0 1 empty empty threshold -20 -9 0
8 -262144 -1 -1 2914 1;
#X obj -270 323 vsl 10 50 0 100 0 1 empty empty attack -7 -9 0 8 -262144
-1 -1 49 1;
#X obj -236 323 vsl 10 50 0 2000 0 1 empty empty release -7 -9 0 8
-262144 -1 -1 245 1;
#X obj -204 323 vsl 10 50 0 20 0 1 empty empty gain -3 -9 0 8 -262144
-1 -1 245 1;
#X floatatom -338 288 5 0 0 0 - - -;
#X floatatom -301 288 5 0 0 0 - - -;
#X floatatom -264 288 5 0 0 0 - - -;
#X floatatom -227 288 5 0 0 0 - - -;
#X floatatom -190 288 5 0 0 0 - - -;
#N canvas 0 22 822 586 compressor 0;
#X obj 263 236 expr (($f1 - $f3) / $f2) - $f1 + $f3;
#X obj 228 141 env~ 1024;
#X obj 263 379 dbtorms;
#X obj 263 308 expr 100 + $f1;
#X obj 28 439 *~;
#X obj 48 412 line~;
#X floatatom 27 194 5 0 0 0 - - -;
#X obj 228 188 moses;
#X msg 228 250 1;
#X text 74 189 forward control;
#X text 310 275 value by which the signal must be reduced;
#X text 389 345 conversion;
#X text 367 386 correction factor of the input signal's rms value;
#X text 453 504 www.pd-tutorial.com;
#X text 462 479 Johannes Kreidler;
#X obj 449 135 t f f;
#X obj 686 112 dbtorms;
#X obj 686 81 + 100;
#X obj 28 501 *~;
#X text 702 -1 makeup gain;
#X obj 28 -16 inlet~ signal;
#X text 36 9 signal to be compressed;
#X obj 259 45 inlet ratio;
#X text 254 12 x:1 ratio;
#X obj 339 45 inlet threshold;
#X obj 449 102 + 100;
#X text 302 24 threshold / reference \, -100 to 0 dB;
#X obj 27 152 loadbang;
#X msg 27 173 23.22;
#X obj 686 46 inlet makeupgain;
#X obj 228 274 pack;
#X obj 571 46 inlet release;
#X obj 263 420 pack;
#X obj 461 46 inlet attack;
#X text 495 -2 attack and release in ms;
#X obj 27 545 outlet~;
#X text 131 124 you can use a different signal here for sidechain compression
;
#X obj 27 102 delwrite~ \$0-compl2 100;
#X obj 27 214 delread~ \$0-compl2;
#X connect 0 0 3 0;
#X connect 1 0 7 0;
#X connect 2 0 32 0;
#X connect 3 0 2 0;
#X connect 4 0 18 0;
#X connect 5 0 4 1;
#X connect 6 0 38 0;
#X connect 7 0 8 0;
#X connect 7 1 0 0;
#X connect 8 0 30 0;
#X connect 15 0 7 1;
#X connect 15 1 0 2;
#X connect 16 0 18 1;
#X connect 17 0 16 0;
#X connect 18 0 35 0;
#X connect 20 0 1 0;
#X connect 20 0 37 0;
#X connect 22 0 0 1;
#X connect 24 0 25 0;
#X connect 25 0 15 0;
#X connect 27 0 28 0;
#X connect 28 0 6 0;
#X connect 29 0 17 0;
#X connect 30 0 5 0;
#X connect 31 0 30 1;
#X connect 32 0 5 0;
#X connect 33 0 32 1;
#X connect 38 0 4 0;
#X restore -78 448 pd compressor;
#X obj -113 324 vsl 10 50 1 10 0 1 empty empty ratio -7 -9 0 8 -262144
-1 -1 545 1;
#X obj -71 324 vsl 10 50 -50 0 0 1 empty empty threshold -20 -9 0 8
-262144 -1 -1 3175 1;
#X obj -36 324 vsl 10 50 0 100 0 1 empty empty attack -7 -9 0 8 -262144
-1 -1 49 1;
#X obj -2 324 vsl 10 50 0 2000 0 1 empty empty release -7 -9 0 8 -262144
-1 -1 245 1;
#X obj 30 324 vsl 10 50 0 20 0 1 empty empty gain -3 -9 0 8 -262144
-1 -1 0 1;
#X floatatom -126 284 5 0 0 0 - - -;
#X floatatom -89 284 5 0 0 0 - - -;
#X floatatom -52 284 5 0 0 0 - - -;
#X floatatom -15 284 5 0 0 0 - - -;
#X floatatom 22 284 5 0 0 0 - - -;
#N canvas 0 22 822 586 compressor 0;
#X obj 263 236 expr (($f1 - $f3) / $f2) - $f1 + $f3;
#X obj 228 141 env~ 1024;
#X obj 263 379 dbtorms;
#X obj 263 308 expr 100 + $f1;
#X obj 28 439 *~;
#X obj 48 412 line~;
#X floatatom 27 194 5 0 0 0 - - -;
#X obj 228 188 moses;
#X msg 228 250 1;
#X text 74 189 forward control;
#X text 310 275 value by which the signal must be reduced;
#X text 389 345 conversion;
#X text 367 386 correction factor of the input signal's rms value;
#X text 453 504 www.pd-tutorial.com;
#X text 462 479 Johannes Kreidler;
#X obj 449 135 t f f;
#X obj 686 112 dbtorms;
#X obj 686 81 + 100;
#X obj 28 501 *~;
#X text 702 -1 makeup gain;
#X obj 28 -16 inlet~ signal;
#X text 36 9 signal to be compressed;
#X obj 259 45 inlet ratio;
#X text 254 12 x:1 ratio;
#X obj 339 45 inlet threshold;
#X obj 449 102 + 100;
#X text 302 24 threshold / reference \, -100 to 0 dB;
#X obj 27 152 loadbang;
#X msg 27 173 23.22;
#X obj 686 46 inlet makeupgain;
#X obj 228 274 pack;
#X obj 571 46 inlet release;
#X obj 263 420 pack;
#X obj 461 46 inlet attack;
#X text 495 -2 attack and release in ms;
#X obj 27 545 outlet~;
#X text 131 124 you can use a different signal here for sidechain compression
;
#X obj 27 102 delwrite~ \$0-compl3 100;
#X obj 27 214 delread~ \$0-compl3;
#X connect 0 0 3 0;
#X connect 1 0 7 0;
#X connect 2 0 32 0;
#X connect 3 0 2 0;
#X connect 4 0 18 0;
#X connect 5 0 4 1;
#X connect 6 0 38 0;
#X connect 7 0 8 0;
#X connect 7 1 0 0;
#X connect 8 0 30 0;
#X connect 15 0 7 1;
#X connect 15 1 0 2;
#X connect 16 0 18 1;
#X connect 17 0 16 0;
#X connect 18 0 35 0;
#X connect 20 0 1 0;
#X connect 20 0 37 0;
#X connect 22 0 0 1;
#X connect 24 0 25 0;
#X connect 25 0 15 0;
#X connect 27 0 28 0;
#X connect 28 0 6 0;
#X connect 29 0 17 0;
#X connect 30 0 5 0;
#X connect 31 0 30 1;
#X connect 32 0 5 0;
#X connect 33 0 32 1;
#X connect 38 0 4 0;
#X restore 29 447 pd compressor;
#X obj 89 322 vsl 10 50 1 10 0 1 empty empty ratio -7 -9 0 8 -262144
-1 -1 545 1;
#X obj 131 322 vsl 10 50 -50 0 0 1 empty empty threshold -20 -9 0 8
-262144 -1 -1 2469 1;
#X obj 166 322 vsl 10 50 0 100 0 1 empty empty attack -7 -9 0 8 -262144
-1 -1 49 1;
#X obj 200 322 vsl 10 50 0 2000 0 1 empty empty release -7 -9 0 8 -262144
-1 -1 245 1;
#X obj 232 322 vsl 10 50 0 20 0 1 empty empty gain -3 -9 0 8 -262144
-1 -1 0 1;
#X floatatom 76 282 5 0 0 0 - - -;
#X floatatom 113 282 5 0 0 0 - - -;
#X floatatom 150 282 5 0 0 0 - - -;
#X floatatom 187 282 5 0 0 0 - - -;
#X floatatom 224 282 5 0 0 0 - - -;
#N canvas 0 22 822 586 compressor 0;
#X obj 263 236 expr (($f1 - $f3) / $f2) - $f1 + $f3;
#X obj 228 141 env~ 1024;
#X obj 263 379 dbtorms;
#X obj 263 308 expr 100 + $f1;
#X obj 28 439 *~;
#X obj 48 412 line~;
#X floatatom 27 194 5 0 0 0 - - -;
#X obj 228 188 moses;
#X msg 228 250 1;
#X text 74 189 forward control;
#X text 310 275 value by which the signal must be reduced;
#X text 389 345 conversion;
#X text 367 386 correction factor of the input signal's rms value;
#X text 453 504 www.pd-tutorial.com;
#X text 462 479 Johannes Kreidler;
#X obj 449 135 t f f;
#X obj 686 112 dbtorms;
#X obj 686 81 + 100;
#X obj 28 501 *~;
#X text 702 -1 makeup gain;
#X obj 28 -16 inlet~ signal;
#X text 36 9 signal to be compressed;
#X obj 259 45 inlet ratio;
#X text 254 12 x:1 ratio;
#X obj 339 45 inlet threshold;
#X obj 449 102 + 100;
#X text 302 24 threshold / reference \, -100 to 0 dB;
#X obj 27 152 loadbang;
#X msg 27 173 23.22;
#X obj 686 46 inlet makeupgain;
#X obj 228 274 pack;
#X obj 571 46 inlet release;
#X obj 263 420 pack;
#X obj 461 46 inlet attack;
#X text 495 -2 attack and release in ms;
#X obj 27 545 outlet~;
#X text 131 124 you can use a different signal here for sidechain compression
;
#X obj 27 102 delwrite~ \$0-compl4 100;
#X obj 27 214 delread~ \$0-compl4;
#X connect 0 0 3 0;
#X connect 1 0 7 0;
#X connect 2 0 32 0;
#X connect 3 0 2 0;
#X connect 4 0 18 0;
#X connect 5 0 4 1;
#X connect 6 0 38 0;
#X connect 7 0 8 0;
#X connect 7 1 0 0;
#X connect 8 0 30 0;
#X connect 15 0 7 1;
#X connect 15 1 0 2;
#X connect 16 0 18 1;
#X connect 17 0 16 0;
#X connect 18 0 35 0;
#X connect 20 0 1 0;
#X connect 20 0 37 0;
#X connect 22 0 0 1;
#X connect 24 0 25 0;
#X connect 25 0 15 0;
#X connect 27 0 28 0;
#X connect 28 0 6 0;
#X connect 29 0 17 0;
#X connect 30 0 5 0;
#X connect 31 0 30 1;
#X connect 32 0 5 0;
#X connect 33 0 32 1;
#X connect 38 0 4 0;
#X restore 131 446 pd compressor;
#X obj 292 323 vsl 10 50 1 10 0 1 empty empty ratio -7 -9 0 8 -262144
-1 -1 1089 1;
#X obj 334 323 vsl 10 50 -50 0 0 1 empty empty threshold -20 -9 0 8
-262144 -1 -1 2442 1;
#X obj 369 323 vsl 10 50 0 100 0 1 empty empty attack -7 -9 0 8 -262144
-1 -1 49 1;
#X obj 403 323 vsl 10 50 0 2000 0 1 empty empty release -7 -9 0 8 -262144
-1 -1 245 1;
#X obj 435 323 vsl 10 50 0 20 0 1 empty empty gain -3 -9 0 8 -262144
-1 -1 735 1;
#X floatatom 279 283 5 0 0 0 - - -;
#X floatatom 316 283 5 0 0 0 - - -;
#X floatatom 353 283 5 0 0 0 - - -;
#X floatatom 390 283 5 0 0 0 - - -;
#X floatatom 427 283 5 0 0 0 - - -;
#N canvas 0 22 450 300 (subpatch) 0;
#X array array2 143488 float 2;
#X coords 0 1 143488 -1 200 140 1;
#X restore 261 -127 graph;
#X obj -28 537 *~ 1;
#X obj -29 655 *~;
#X obj 293 203 *~;
#X obj 110 -20 expr ($f1==0);
#X obj 90 202 *~;
#X obj -122 246 *~;
#X obj -243 222 *~;
#X obj -202 199 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1
1 1;
#X obj -32 214 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 122 206 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 322 206 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj -13 252 s~ \$0-filter-out;
#X text 14 537 <---- limiter here?;
#X text 131 -57 filtering on/off;
#X text 493 243 (no compression).;
#X text 494 226 to frequency splitting only;
#X text 495 209 Frequency response relative;
#X obj -243 126 lp2_butt~ 137 200;
#X obj -238 158 lp2_butt~ 137 200;
#X obj -84 115 hp2_butt~ 137 200;
#X obj -84 137 hp2_butt~ 137 200;
#X obj -109 173 lp2_butt~ 1147 200;
#X obj -112 202 lp2_butt~ 1147 200;
#X obj 104 92 hp2_butt~ 1147 200;
#X obj 107 114 hp2_butt~ 1147 200;
#X obj 92 140 lp2_butt~ 6860 200;
#X obj 87 166 lp2_butt~ 6860 200;
#X obj 256 135 hp2_butt~ 6960 200;
#X obj 267 168 hp2_butt~ 6960 200;
#X obj 23 -76 inlet~;
#X obj -38 694 outlet~;
#X obj 114 67 s~ \$0-nofiltering;
#X obj -159 536 r~ \$0-nofiltering;
#X obj 110 -92 inlet;
#X connect 6 0 7 0;
#X connect 8 0 6 0;
#X connect 10 0 11 0;
#X connect 11 0 78 0;
#X connect 11 0 80 0;
#X connect 11 0 84 0;
#X connect 11 0 88 0;
#X connect 12 0 62 1;
#X connect 13 0 11 0;
#X connect 14 0 92 0;
#X connect 15 0 13 1;
#X connect 15 0 64 0;
#X connect 16 0 61 0;
#X connect 17 0 16 1;
#X connect 17 0 22 0;
#X connect 18 0 16 2;
#X connect 18 0 23 0;
#X connect 19 0 16 3;
#X connect 19 0 24 0;
#X connect 20 0 16 4;
#X connect 20 0 25 0;
#X connect 21 0 16 5;
#X connect 21 0 26 0;
#X connect 27 0 61 0;
#X connect 28 0 27 1;
#X connect 28 0 33 0;
#X connect 29 0 27 2;
#X connect 29 0 34 0;
#X connect 30 0 27 3;
#X connect 30 0 35 0;
#X connect 31 0 27 4;
#X connect 31 0 36 0;
#X connect 32 0 27 5;
#X connect 32 0 37 0;
#X connect 38 0 61 0;
#X connect 39 0 38 1;
#X connect 39 0 44 0;
#X connect 40 0 38 2;
#X connect 40 0 45 0;
#X connect 41 0 38 3;
#X connect 41 0 46 0;
#X connect 42 0 38 4;
#X connect 42 0 47 0;
#X connect 43 0 38 5;
#X connect 43 0 48 0;
#X connect 49 0 61 0;
#X connect 50 0 49 1;
#X connect 50 0 55 0;
#X connect 51 0 49 2;
#X connect 51 0 56 0;
#X connect 52 0 49 3;
#X connect 52 0 57 0;
#X connect 53 0 49 4;
#X connect 53 0 58 0;
#X connect 54 0 49 5;
#X connect 54 0 59 0;
#X connect 61 0 62 0;
#X connect 62 0 91 0;
#X connect 63 0 72 0;
#X connect 63 0 49 0;
#X connect 64 0 14 1;
#X connect 65 0 72 0;
#X connect 65 0 38 0;
#X connect 66 0 72 0;
#X connect 66 0 27 0;
#X connect 67 0 72 0;
#X connect 67 0 16 0;
#X connect 68 0 67 1;
#X connect 69 0 66 1;
#X connect 70 0 65 1;
#X connect 71 0 63 1;
#X connect 78 0 79 0;
#X connect 79 0 67 0;
#X connect 80 0 81 0;
#X connect 81 0 82 0;
#X connect 82 0 83 0;
#X connect 83 0 66 0;
#X connect 84 0 85 0;
#X connect 85 0 86 0;
#X connect 86 0 87 0;
#X connect 87 0 65 0;
#X connect 88 0 89 0;
#X connect 89 0 63 0;
#X connect 90 0 13 0;
#X connect 90 0 14 0;
#X connect 93 0 62 0;
#X connect 94 0 15 0;
